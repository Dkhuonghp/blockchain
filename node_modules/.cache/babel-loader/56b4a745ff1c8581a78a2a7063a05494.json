{"ast":null,"code":"import _toConsumableArray from \"/Users/khuong/Desktop/ReactJS/ownnw1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { useRef, useCallback } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\n\nvar useObserver = function useObserver(callback) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      root = _ref.root,\n      rootMargin = _ref.rootMargin,\n      threshold = _ref.threshold;\n\n  var externalState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var target = useRef(null);\n  var observer = useRef(null);\n  var setTarget = useCallback(function (node) {\n    if (target.current && observer.current) {\n      observer.current.unobserve(target.current);\n      observer.current.disconnect();\n      observer.current = null;\n    }\n\n    if (node) {\n      observer.current = new IntersectionObserver(callback, {\n        root: root,\n        rootMargin: rootMargin,\n        threshold: threshold\n      });\n      observer.current.observe(node);\n      target.current = node;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [target, root, rootMargin, JSON.stringify(threshold)].concat(_toConsumableArray(externalState)));\n  return setTarget;\n};\n\nexport default useObserver;","map":{"version":3,"names":["useRef","useCallback","useObserver","callback","root","rootMargin","threshold","externalState","target","observer","setTarget","node","current","unobserve","disconnect","IntersectionObserver","observe","JSON","stringify"],"sources":["/Users/khuong/Desktop/ReactJS/ownnw1/node_modules/react-hook-inview/dist/esm/useObserver.js"],"sourcesContent":["import { useRef, useCallback, } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useObserver = (callback, { root, rootMargin, threshold } = {}, externalState = []) => {\n    const target = useRef(null);\n    const observer = useRef(null);\n    const setTarget = useCallback((node) => {\n        if (target.current && observer.current) {\n            observer.current.unobserve(target.current);\n            observer.current.disconnect();\n            observer.current = null;\n        }\n        if (node) {\n            observer.current = new IntersectionObserver(callback, { root, rootMargin, threshold });\n            observer.current.observe(node);\n            target.current = node;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n    return setTarget;\n};\nexport default useObserver;\n"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,WAAjB,QAAqC,OAArC;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAwE;EAAA,+EAA3B,EAA2B;EAAA,IAA3DC,IAA2D,QAA3DA,IAA2D;EAAA,IAArDC,UAAqD,QAArDA,UAAqD;EAAA,IAAzCC,SAAyC,QAAzCA,SAAyC;;EAAA,IAAvBC,aAAuB,uEAAP,EAAO;EACxF,IAAMC,MAAM,GAAGR,MAAM,CAAC,IAAD,CAArB;EACA,IAAMS,QAAQ,GAAGT,MAAM,CAAC,IAAD,CAAvB;EACA,IAAMU,SAAS,GAAGT,WAAW,CAAC,UAACU,IAAD,EAAU;IACpC,IAAIH,MAAM,CAACI,OAAP,IAAkBH,QAAQ,CAACG,OAA/B,EAAwC;MACpCH,QAAQ,CAACG,OAAT,CAAiBC,SAAjB,CAA2BL,MAAM,CAACI,OAAlC;MACAH,QAAQ,CAACG,OAAT,CAAiBE,UAAjB;MACAL,QAAQ,CAACG,OAAT,GAAmB,IAAnB;IACH;;IACD,IAAID,IAAJ,EAAU;MACNF,QAAQ,CAACG,OAAT,GAAmB,IAAIG,oBAAJ,CAAyBZ,QAAzB,EAAmC;QAAEC,IAAI,EAAJA,IAAF;QAAQC,UAAU,EAAVA,UAAR;QAAoBC,SAAS,EAATA;MAApB,CAAnC,CAAnB;MACAG,QAAQ,CAACG,OAAT,CAAiBI,OAAjB,CAAyBL,IAAzB;MACAH,MAAM,CAACI,OAAP,GAAiBD,IAAjB;IACH,CAVmC,CAWpC;;EACH,CAZ4B,GAYzBH,MAZyB,EAYjBJ,IAZiB,EAYXC,UAZW,EAYCY,IAAI,CAACC,SAAL,CAAeZ,SAAf,CAZD,4BAY+BC,aAZ/B,GAA7B;EAaA,OAAOG,SAAP;AACH,CAjBD;;AAkBA,eAAeR,WAAf"},"metadata":{},"sourceType":"module"}