{"ast":null,"code":"import _slicedToArray from \"/Users/khuong/Desktop/ReactJS/ownnw1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/khuong/Desktop/ReactJS/ownnw1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"multisamping\", \"renderIndex\", \"disableGamma\", \"disableRenderPass\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, RGBAFormat } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\nextend({\n  EffectComposer: EffectComposer,\n  RenderPass: RenderPass,\n  ShaderPass: ShaderPass\n});\n\nvar isWebGL2Available = function isWebGL2Available() {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\n\nvar Effects = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      _ref$multisamping = _ref.multisamping,\n      multisamping = _ref$multisamping === void 0 ? 8 : _ref$multisamping,\n      _ref$renderIndex = _ref.renderIndex,\n      renderIndex = _ref$renderIndex === void 0 ? 1 : _ref$renderIndex,\n      _ref$disableGamma = _ref.disableGamma,\n      disableGamma = _ref$disableGamma === void 0 ? false : _ref$disableGamma,\n      _ref$disableRenderPas = _ref.disableRenderPass,\n      disableRenderPass = _ref$disableRenderPas === void 0 ? false : _ref$disableRenderPas,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var composer = React.useRef();\n\n  var _useThree = useThree(),\n      scene = _useThree.scene,\n      camera = _useThree.camera,\n      gl = _useThree.gl,\n      size = _useThree.size,\n      viewport = _useThree.viewport;\n\n  var _React$useState = React.useState(function () {\n    var t = new WebGLRenderTarget(size.width, size.height, {\n      format: RGBAFormat,\n      encoding: gl.outputEncoding\n    });\n    t.samples = multisamping;\n    return t;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      target = _React$useState2[0];\n\n  React.useEffect(function () {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(function () {\n    var _composer$current3;\n\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  var passes = [];\n  if (!disableRenderPass) passes.push( /*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push( /*#__PURE__*/React.createElement(\"shaderPass\", {\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, function (el, index) {\n    return passes.push( /*#__PURE__*/React.cloneElement(el, {\n      key: index,\n      attach: \"passes-\".concat(index)\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), passes);\n});\nexport { Effects, isWebGL2Available };","map":{"version":3,"names":["_extends","React","WebGLRenderTarget","RGBAFormat","extend","useThree","useFrame","EffectComposer","RenderPass","ShaderPass","GammaCorrectionShader","mergeRefs","isWebGL2Available","canvas","document","createElement","window","WebGL2RenderingContext","getContext","e","Effects","forwardRef","ref","children","multisamping","renderIndex","disableGamma","disableRenderPass","props","composer","useRef","scene","camera","gl","size","viewport","useState","t","width","height","format","encoding","outputEncoding","samples","target","useEffect","_composer$current","_composer$current2","current","setSize","setPixelRatio","dpr","_composer$current3","render","passes","push","key","args","Children","forEach","el","index","cloneElement","attach"],"sources":["/Users/khuong/Desktop/ReactJS/ownnw1/node_modules/@react-three/drei/core/Effects.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, RGBAFormat } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\n\nextend({\n  EffectComposer,\n  RenderPass,\n  ShaderPass\n});\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableGamma = false,\n  disableRenderPass = false,\n  ...props\n}, ref) => {\n  const composer = React.useRef();\n  const {\n    scene,\n    camera,\n    gl,\n    size,\n    viewport\n  } = useThree();\n  const [target] = React.useState(() => {\n    const t = new WebGLRenderTarget(size.width, size.height, {\n      format: RGBAFormat,\n      encoding: gl.outputEncoding\n    });\n    t.samples = multisamping;\n    return t;\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(() => {\n    var _composer$current3;\n\n    return (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  const passes = [];\n  if (!disableRenderPass) passes.push( /*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push( /*#__PURE__*/React.createElement(\"shaderPass\", {\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, (el, index) => passes.push( /*#__PURE__*/React.cloneElement(el, {\n    key: index,\n    attach: `passes-${index}`\n  })));\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), passes);\n});\n\nexport { Effects, isWebGL2Available };\n"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,iBAAT,EAA4BC,UAA5B,QAA8C,OAA9C;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,QAA3B,QAA2C,oBAA3C;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,UAArC,EAAiDC,qBAAjD,QAA8E,cAA9E;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AAEAP,MAAM,CAAC;EACLG,cAAc,EAAdA,cADK;EAELC,UAAU,EAAVA,UAFK;EAGLC,UAAU,EAAVA;AAHK,CAAD,CAAN;;AAKA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;EAC9B,IAAI;IACF,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;IACA,OAAO,CAAC,EAAEC,MAAM,CAACC,sBAAP,IAAiCJ,MAAM,CAACK,UAAP,CAAkB,QAAlB,CAAnC,CAAR;EACD,CAHD,CAGE,OAAOC,CAAP,EAAU;IACV,OAAO,KAAP;EACD;AACF,CAPD;;AAQA,IAAMC,OAAO,GAAG,aAAanB,KAAK,CAACoB,UAAN,CAAiB,gBAO3CC,GAP2C,EAOnC;EAAA,IANTC,QAMS,QANTA,QAMS;EAAA,6BALTC,YAKS;EAAA,IALTA,YAKS,kCALM,CAKN;EAAA,4BAJTC,WAIS;EAAA,IAJTA,WAIS,iCAJK,CAIL;EAAA,6BAHTC,YAGS;EAAA,IAHTA,YAGS,kCAHM,KAGN;EAAA,iCAFTC,iBAES;EAAA,IAFTA,iBAES,sCAFW,KAEX;EAAA,IADNC,KACM;;EACT,IAAMC,QAAQ,GAAG5B,KAAK,CAAC6B,MAAN,EAAjB;;EACA,gBAMIzB,QAAQ,EANZ;EAAA,IACE0B,KADF,aACEA,KADF;EAAA,IAEEC,MAFF,aAEEA,MAFF;EAAA,IAGEC,EAHF,aAGEA,EAHF;EAAA,IAIEC,IAJF,aAIEA,IAJF;EAAA,IAKEC,QALF,aAKEA,QALF;;EAOA,sBAAiBlC,KAAK,CAACmC,QAAN,CAAe,YAAM;IACpC,IAAMC,CAAC,GAAG,IAAInC,iBAAJ,CAAsBgC,IAAI,CAACI,KAA3B,EAAkCJ,IAAI,CAACK,MAAvC,EAA+C;MACvDC,MAAM,EAAErC,UAD+C;MAEvDsC,QAAQ,EAAER,EAAE,CAACS;IAF0C,CAA/C,CAAV;IAIAL,CAAC,CAACM,OAAF,GAAYnB,YAAZ;IACA,OAAOa,CAAP;EACD,CAPgB,CAAjB;EAAA;EAAA,IAAOO,MAAP;;EAQA3C,KAAK,CAAC4C,SAAN,CAAgB,YAAM;IACpB,IAAIC,iBAAJ,EAAuBC,kBAAvB;;IAEA,CAACD,iBAAiB,GAAGjB,QAAQ,CAACmB,OAA9B,KAA0C,IAA1C,GAAiD,KAAK,CAAtD,GAA0DF,iBAAiB,CAACG,OAAlB,CAA0Bf,IAAI,CAACI,KAA/B,EAAsCJ,IAAI,CAACK,MAA3C,CAA1D;IACA,CAACQ,kBAAkB,GAAGlB,QAAQ,CAACmB,OAA/B,KAA2C,IAA3C,GAAkD,KAAK,CAAvD,GAA2DD,kBAAkB,CAACG,aAAnB,CAAiCf,QAAQ,CAACgB,GAA1C,CAA3D;EACD,CALD,EAKG,CAAClB,EAAD,EAAKC,IAAL,EAAWC,QAAQ,CAACgB,GAApB,CALH;EAMA7C,QAAQ,CAAC,YAAM;IACb,IAAI8C,kBAAJ;;IAEA,OAAO,CAACA,kBAAkB,GAAGvB,QAAQ,CAACmB,OAA/B,KAA2C,IAA3C,GAAkD,KAAK,CAAvD,GAA2DI,kBAAkB,CAACC,MAAnB,EAAlE;EACD,CAJO,EAIL5B,WAJK,CAAR;EAKA,IAAM6B,MAAM,GAAG,EAAf;EACA,IAAI,CAAC3B,iBAAL,EAAwB2B,MAAM,CAACC,IAAP,EAAa,aAAatD,KAAK,CAACc,aAAN,CAAoB,YAApB,EAAkC;IAClFyC,GAAG,EAAE,YAD6E;IAElFC,IAAI,EAAE,CAAC1B,KAAD,EAAQC,MAAR;EAF4E,CAAlC,CAA1B;EAIxB,IAAI,CAACN,YAAL,EAAmB4B,MAAM,CAACC,IAAP,EAAa,aAAatD,KAAK,CAACc,aAAN,CAAoB,YAApB,EAAkC;IAC7EyC,GAAG,EAAE,WADwE;IAE7EC,IAAI,EAAE,CAAC/C,qBAAD;EAFuE,CAAlC,CAA1B;EAInBT,KAAK,CAACyD,QAAN,CAAeC,OAAf,CAAuBpC,QAAvB,EAAiC,UAACqC,EAAD,EAAKC,KAAL;IAAA,OAAeP,MAAM,CAACC,IAAP,EAAa,aAAatD,KAAK,CAAC6D,YAAN,CAAmBF,EAAnB,EAAuB;MAC/FJ,GAAG,EAAEK,KAD0F;MAE/FE,MAAM,mBAAYF,KAAZ;IAFyF,CAAvB,CAA1B,CAAf;EAAA,CAAjC;EAIA,OAAO,aAAa5D,KAAK,CAACc,aAAN,CAAoB,gBAApB,EAAsCf,QAAQ,CAAC;IACjEsB,GAAG,EAAEX,SAAS,CAAC,CAACW,GAAD,EAAMO,QAAN,CAAD,CADmD;IAEjE4B,IAAI,EAAE,CAACxB,EAAD,EAAKW,MAAL;EAF2D,CAAD,EAG/DhB,KAH+D,CAA9C,EAGT0B,MAHS,CAApB;AAID,CApD4B,CAA7B;AAsDA,SAASlC,OAAT,EAAkBR,iBAAlB"},"metadata":{},"sourceType":"module"}